class MDFooterSelectorLocalizationForm extends HTMLElement{constructor(){super(),this.elements={selectorCountry:this.querySelector("#md-form__select__country--footer"),selectorLanguage:this.querySelector("#md-form__select__language--footer"),formUlCountrySelect:this.querySelector("#orbeFooterCountryList"),formUlLanguageSelect:this.querySelector("#orbeFooterLanguageList"),returnTo:this.querySelector("#md-footer-selector__form__id input[name='return_to']"),languageCode:this.querySelector("#md-footer-selector__form__id input[name='language_code']"),countryCode:this.querySelector("#md-footer-selector__form__id input[name='country_code']"),searchInput:this.querySelector(".md-form__select__search__input")},this.elements.selectorCountry.addEventListener("focusout",this.closeSelector.bind(this)),this.elements.formUlCountrySelect.querySelectorAll("a").forEach(e=>e.addEventListener("click",this.onCountryChange.bind(this))),null!==this.elements.selectorLanguage&&(this.elements.selectorLanguage.addEventListener("focusout",this.closeSelector.bind(this)),this.elements.formUlLanguageSelect.querySelectorAll("a").forEach(e=>e.addEventListener("click",this.onLanguageChange.bind(this)))),this.addEventListener("keyup",this.onContainerKeyUp.bind(this))}onContainerKeyUp(e){"ESCAPE"===e.code.toUpperCase()&&(this.hidePanel(),this.elements.selectorCountry.focus())}hidePanel(){this.elements.selectorCountry.setAttribute("aria-expanded","false"),this.elements.formUlCountrySelect.setAttribute("hidden",!0),null!==this.elements.searchInput&&(this.elements.searchInput.value="",mdApp_searchCountryInput()),null!==this.elements.selectorLanguage&&(this.elements.selectorLanguage.setAttribute("aria-expanded","false"),this.elements.formUlLanguageSelect.setAttribute("hidden",!0))}closeSelector(e){var t=e.relatedTarget&&"BUTTON"===e.relatedTarget.nodeName;null!==e.relatedTarget&&!t||this.hidePanel()}onCountryChange(e){e.preventDefault();e={form:document.getElementById("md-footer-selector__form__id"),mdFormSelectCountry:e.currentTarget,mdFormSelectLanguage:this.elements.selectorLanguage,mdFormUlCountrySelect:this.elements.formUlCountrySelect,mdFormCountryCode:this.elements.countryCode,mdFormLanguageCode:this.elements.languageCode,mdFormReturnTo:this.elements.returnTo};return orbitoMK._submitFlow(null,e),!0}onLanguageChange(e){e.preventDefault();e={form:document.getElementById("md-footer-selector__form__id"),mdFormSelectCountry:this.elements.selectorCountry,mdFormSelectLanguage:e.currentTarget,mdFormUlCountrySelect:this.elements.formUlCountrySelect,mdFormCountryCode:this.elements.countryCode,mdFormLanguageCode:this.elements.languageCode,mdFormReturnTo:this.elements.returnTo};return orbitoMK._submitFlow(null,e),!0}}function mdApp_searchCountryInput(){let e,t,o,r,n,l,s,a,i;for(t=(e=document.querySelector(".md-footer-selector__content .md-form__select__search__input")).value.toUpperCase(),o=document.getElementById("orbeFooterCountryList"),(r=o.getElementsByTagName("a"))[0].parentElement.style.display="list-item",r[0].parentElement.style.height="",l=0;l<r.length;l++)r[l].classList.contains("md-form__select__country__list-link")&&(a=(n=r[l]).querySelector("span"),i=n.dataset.country,-1<(s=a.textContent||a.innerText).toUpperCase().indexOf(t)||-1<i.toUpperCase().indexOf(t)?(r[l].style.display="",r[l].parentElement.style.display="list-item",r[l].parentElement.style.height=""):(r[l].style.display="none",r[l].parentElement.style.display="none"));0==document.querySelectorAll('ul#orbeFooterCountryList li[style*="display: list-item;"]').length&&(r[0].parentElement.style.display="list-item",r[0].parentElement.style.height="40px")}customElements.define("md-footer-selector__form",MDFooterSelectorLocalizationForm);